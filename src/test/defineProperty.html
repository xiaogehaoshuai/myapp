<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>测试Object.defineProperty()</title>
</head>
<body>
<div id="app">
    <input type="text" id="a">
    <span id="b"></span>
</div>

<script type="text/javascript">
    var obj = {};
    Object.defineProperty(obj, 'hello', {
        get: function() {
            console.log('get val:'+ val);
            return val;
        },
        set: function(newVal) {
            val = newVal;
            console.log('set val:'+ val);
            document.getElementById('a').value = val;
            document.getElementById('b').innerHTML = val;
        }
    });
    document.addEventListener('keyup', function(e) {//触发事件的时机，从而执行相应的操作
        obj.hello = e.target.value;
    });

    var Person = {
        'age': 18,
        'sayHello': function () {
            console.log(this)
            setTimeout( ()=> {
                console.log(this.age);
            });
        }
    };
    var age = 20;
    Person.sayHello();  // 20
</script>
</body>
</html>
